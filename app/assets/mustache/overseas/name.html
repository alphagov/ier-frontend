<form action="{{question.postUrl}}" method="POST" >
    {{> shared/questionHeader }}

    {{> shared/validationMessages }}

    <p>
        Enter all your names in full - don't use initials
    </p>

    <fieldset class="validate"
              data-validation-name="fullName"
              data-validation-type="association"
              data-validation-rules="allNonEmpty allValid"
              data-validation-members="firstName middleName lastName">

        <label for="{{firstName.id}}">
            First name
        </label>
        <div class="validation-wrapper {{firstName.classes}}">
            <input type="text" id="{{firstName.id}}"
                   name="{{firstName.name}}"
                   value="{{firstName.value}}"
                   autocomplete="off"
                   class="text first-name long validate {{firstName.classes}}"
                   data-validation-name="firstName"
                   data-validation-type="field"
                   data-validation-rules="nonEmpty firstNameText">
        </div>

        <label for="{{middleNames.id}}">
            Middle names
        </label>
        <input type="text" id="{{middleNames.id}}"
               name="{{middleNames.name}}"
               value="{{middleNames.value}}"
               autocomplete="off" class="text middle-names long validate {{middleNames.classes}}"
               data-validation-name="middleName"
               data-validation-type="field"
               data-validation-rules="middleNameText">

        <label for="{{lastName.id}}">
            Last name
        </label>
        <div class="validation-wrapper {{lastName.classes}}">
            <input type="text" id="{{lastName.id}}"
                   name="{{lastName.name}}"
                   value="{{lastName.value}}"
                   autocomplete="off"
                   class="text last-name long validate {{lastName.classes}}"
                   data-validation-name="lastName"
                   data-validation-type="field"
                   data-validation-rules="nonEmpty lastNameText">
        </div>
    </fieldset>

    <fieldset class="sub-section validate local-fix-source {{hasPreviousNameOption.classes}}"
              data-validation-name="previousQuestion"
              data-validation-type="fieldset"
              data-validation-rules="atLeastOneNonEmpty"
              data-validation-children="previousNo previousYes">
        <legend class="label">Have you changed your name since you left the UK?</legend>

        <label for="{{hasPreviousNameOptionFalse.id}}" class="selectable">
            <input type="radio" id="{{hasPreviousNameOptionFalse.id}}"
                   name="{{hasPreviousNameOptionFalse.name}}"
                   value="{{hasPreviousNameOptionFalse.value}}" class="radio  validate"
                   data-validation-name="previousNo"
                   data-validation-type="field"
                   data-validation-rules="nonEmpty"
            {{{hasPreviousNameOptionFalse.attributes}}}>
            No, I haven't changed my name
        </label>

        <div class="optional-section " data-condition="{{hasPreviousNameOptionFalse.id}}">

            <fieldset class="validate {{changedNameBeforeLeavingUKOption.classes}}"
                      data-validation-name="changedNameBeforeLeavingUK"
                      data-validation-type="fieldset"
                      data-validation-rules="atLeastOneNonEmpty"
                      data-validation-children="changeNameNo changeNameYes changeNameOther">

                <legend class="label">Have you changed it before you left the UK?</legend>

                <label for="{{changedNameBeforeLeavingUKOptionFalse.id}}" class="selectable">
                    <input type="radio" id="{{changedNameBeforeLeavingUKOptionFalse.id}}"
                           name="{{changedNameBeforeLeavingUKOptionFalse.name}}"
                           value="{{changedNameBeforeLeavingUKOptionFalse.value}}" class="radio  validate"
                           data-validation-name="changeNameNo"
                           data-validation-type="field"
                           data-validation-rules="nonEmpty"
                           {{{changedNameBeforeLeavingUKOptionFalse.attributes}}}>
                    No
                </label>

                <label for="{{changedNameBeforeLeavingUKOptionTrue.id}}" class="selectable">
                    <input type="radio" id="{{changedNameBeforeLeavingUKOptionTrue.id}}"
                           name="{{changedNameBeforeLeavingUKOptionTrue.name}}"
                           value="{{changedNameBeforeLeavingUKOptionTrue.value}}" class="radio  validate"
                           data-validation-name="changeNameYes"
                           data-validation-type="field"
                           data-validation-rules="nonEmpty"
                           {{{changedNameBeforeLeavingUKOptionTrue.attributes}}}>
                    Yes
                </label>

                <label for="{{changedNameBeforeLeavingUKOptionOther.id}}" class="selectable">
                    <input type="radio" id="{{changedNameBeforeLeavingUKOptionOther.id}}"
                           name="{{changedNameBeforeLeavingUKOptionOther.name}}"
                           value="{{changedNameBeforeLeavingUKOptionOther.value}}" class="radio  validate"
                           data-validation-name="changeNameOther"
                           data-validation-type="field"
                           data-validation-rules="nonEmpty"
                           {{{changedNameBeforeLeavingUKOptionOther.attributes}}}>
                    Prefer not to say
                </label>


            </fieldset>
        </div>

        <label for="{{hasPreviousNameOptionTrue.id}}" class="selectable">
            <input type="radio" id="{{hasPreviousNameOptionTrue.id}}"
                   name="{{hasPreviousNameOptionTrue.name}}"
                   value="{{hasPreviousNameOptionTrue.value}}" class="radio validate"
                   data-validation-name="previousYes"
                   data-validation-type="field"
                   data-validation-rules="nonEmpty"
            {{{hasPreviousNameOptionTrue.attributes}}}>
            Yes, I changed my name
        </label>

    </fieldset>

    </div>

    <button id="continue" type="submit" class="button next validation-submit"
            data-validation-sources="fullName previousQuestion changedNameBeforeLeavingUK">
        Continue
    </button>
</form>
