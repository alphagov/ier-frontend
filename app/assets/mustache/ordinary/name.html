<form action="{{question.postUrl}}" method="POST" >
    {{> shared/questionHeader }}

    {{> shared/validationMessages }}

    <fieldset
      class="validate"
      data-validation-name="fullName"
      data-validation-type="association"
      data-validation-rules="allNonEmpty allValid"
      data-validation-members="firstName middleName lastName">

        <label for="{{firstName.id}}">
            {{messages.ordinary_name_firstName_label}}
        </label>
        <div class="validation-wrapper {{firstName.classes}}">
            <input
              type="text"
              id="{{firstName.id}}"
              name="{{firstName.name}}"
              value="{{firstName.value}}"
              autocomplete="off"
              class="text first-name long validate {{firstName.classes}}"
              data-validation-name="firstName"
              data-validation-type="field"
              data-validation-rules="nonEmpty smallText">
        </div>

        <label for="{{middleNames.id}}">
            {{messages.ordinary_name_middleNames_label}}
        </label>
        <div class="validation-wrapper {{middleNames.classes}}">
          <input
            type="text"
            id="{{middleNames.id}}"
            name="{{middleNames.name}}"
            value="{{middleNames.value}}"
            autocomplete="off"
            class="text  middle-names long validate {{middleNames.classes}}"
            data-validation-name="middleName"
            data-validation-type="field"
            data-validation-rules="smallText">
        </div>

        <label for="{{lastName.id}}">
            {{messages.ordinary_name_lastName_label}}
        </label>
        <div class="validation-wrapper {{lastName.classes}}">
            <input
              type="text"
              id="{{lastName.id}}"
              name="{{lastName.name}}"
              value="{{lastName.value}}"
              autocomplete="off"
              class="text  last-name long validate {{lastName.classes}}"
              data-validation-name="lastName"
              data-validation-type="field"
              data-validation-rules="nonEmpty smallText">
        </div>
    </fieldset>

    <fieldset
      class="sub-section validate {{hasPreviousName.classes}}"
      data-validation-name="previousQuestion"
      data-validation-type="fieldset"
      data-validation-rules="atLeastOneNonEmpty"
      data-validation-children="previousYes previousNo">
        <legend class="label">
            {{messages.ordinary_previousName_hasPreviousName_label}}
        </legend>

        <label for="{{hasPreviousNameTrue.id}}" class="selectable binary">
            <input
              type="radio"
              id="{{hasPreviousNameTrue.id}}"
              name="{{hasPreviousNameTrue.name}}"
              value="true"
              class="radio validate"
              data-validation-name="previousYes"
              data-validation-type="field"
              data-validation-rules="nonEmpty"
              {{{hasPreviousNameTrue.attributes}}}>
            {{{messages.ordinary_previousName_hasPreviousName_yes_label}}}
        </label>

        <label for="{{hasPreviousNameFalse.id}}" class="selectable binary">
            <input
              type="radio"
              id="{{hasPreviousNameFalse.id}}"
              name="{{hasPreviousNameFalse.name}}"
              value="false"
              class="radio  validate"
              data-validation-name="previousNo"
              data-validation-type="field"
              data-validation-rules="nonEmpty"
              {{{hasPreviousNameFalse.attributes}}}>
            {{{messages.ordinary_previousName_hasPreviousName_no_label}}}
        </label>
    </fieldset>

    <div
      class="optional-section optional-section-core-content"
      data-condition="previousName_hasPreviousName_true">
        <h2>{{messages.ordinary_previousName_header}}</h2>
        <fieldset
          class="validate"
          data-validation-name="previousName"
          data-validation-type="association"
          data-validation-rules="allNonEmpty"
          data-validation-members="previousFirstName previousLastName">

            <label for="{{previousFirstName.id}}">
                {{{messages.ordinary_previousName_firstName_label}}}
            </label>
            <input
              type="text"
              id="{{previousFirstName.id}}"
              name="{{previousFirstName.name}}"
              value="{{previousFirstName.value}}"
              autocomplete="off"
              class="text  first-name long validate {{previousFirstName.classes}}"
              data-validation-name="previousFirstName"
              data-validation-type="field"
              data-validation-rules="nonEmpty">

            <label for="{{previousMiddleNames.id}}">
                {{{messages.ordinary_previousName_middleNames_label}}}
            </label>
            <input
              type="text"
              id="{{previousMiddleNames.id}}"
              name="{{previousMiddleNames.name}}"
              value="{{previousMiddleNames.value}}"
              autocomplete="off"
              class="text  middle-names long {{previousMiddleName.classes}}">

            <label for="{{previousLastName.id}}">
                {{{messages.ordinary_previousName_lastName_label}}}
            </label>
            <input
              type="text"
              id="{{previousLastName.id}}"
              name="{{previousLastName.name}}"
              value="{{previousLastName.value}}"
              autocomplete="off"
              class="text  last-name long validate {{previousLastName.classes}}"
              data-validation-name="previousLastName"
              data-validation-type="field"
              data-validation-rules="nonEmpty">
        </fieldset>
    </div>

    <button
      id="continue"
      type="submit"
      class="button next validation-submit"
      data-validation-sources="fullName previousQuestion previousName">
        {{messages.step_continue}}
    </button>
</form>
