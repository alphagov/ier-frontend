<form action="{{question.postUrl}}" method="POST"
      data-validation-name="nationality" data-validation-type="association"
      data-validation-rules="fieldsetOrExcuse" class="validate"
      data-validation-members="country nationalityExcuse">

    {{> shared/questionHeader }}

    {{> shared/validationMessages }}

    <p>{{messages.ordinary_nationality_content_1}}</p>

    <fieldset class="validate" data-validation-name="country"
              data-validation-type="fieldset"
              data-validation-rules="atLeastOneChecked checkedOtherHasValue"
              data-validation-children="british irish other otherCountries">

        <label class="selectable"  >
            <input type="checkbox" id="{{britishOption.id}}"
                   name="{{britishOption.name}}" value="true"
                   class=" validate"
                   data-validation-name="british"
                   data-validation-type="field"
                   data-validation-rules="nonEmpty"
                   {{{britishOption.attributes}}}>{{messages.ordinary_nationality_british}}
        </label>
        <label class="selectable"  >
            <input type="checkbox" id="{{irishOption.id}}"
                   name="{{irishOption.name}}" value="true"
                   class=" validate"
                   data-validation-name="irish"
                   data-validation-type="field"
                   data-validation-rules="nonEmpty"
                   {{{irishOption.attributes}}}>{{messages.ordinary_nationality_irish}}
        </label>
        <label class="selectable"  >
            <input type="checkbox" id="{{hasOtherCountryOption.id}}"
                   name="{{hasOtherCountryOption.name}}" value="true"
                   class=" validate"
                   data-validation-name="other"
                   data-validation-type="field"
                   data-validation-rules="nonEmpty"
                   {{{hasOtherCountryOption.attributes}}}>{{messages.ordinary_nationality_otherCountry}}
        </label>
        <div class="validation-wrapper">
            <div id="add-countries" class="optional-section validate"
                 data-condition="{{hasOtherCountryOption.id}}"
                 data-validation-name="otherCountries"
                 data-validation-type="field"
                 data-validation-rules="atLeastOneCountry">

                <label for="{{otherCountriesHead.id}}" class=""  >
                    {{messages.ordinary_nationality_whichCountry}}
                </label>
                <input type="text" id="{{otherCountriesHead.id}}"
                   name="{{otherCountriesHead.name}}"
                   value="{{otherCountriesHead.value}}"
                   autocomplete="off"
                   class="text  country-autocomplete long {{otherCountriesHead.classes}}"  >

                <p class="duplication-intro"
                   style="{{#moreThanOneOtherCountry}}display: none{{/moreThanOneOtherCountry}}">
                    {{messages.ordinary_nationality_dualNationality}}
                    <a class="duplicate-control-initial"
                     href="#" data-field="{{otherCountriesHead.id}}">{{messages.ordinary_nationality_addAnotherCountry}}</a>.
                </p>

                {{#otherCountriesTail}}
                    <div class="added-country">
                        <label for="nationality_otherCountries[{{index}}]" class="country-label"  >
                            {{messages.ordinary_nationality_country}} {{index}}
                        </label>
                        <a href="#" class="remove-field"
                           data-field="nationality_otherCountries[{{index}}]">
                            {{messages.ordinary_nationality_removeCountry}}<span class="visuallyhidden">{{messages.ordinary_nationality_country}}</span>
                        </a>
                        <input type="text" id="nationality_otherCountries[{{index}}]"
                               name="nationality.otherCountries[{{index}}]" value="{{countryName}}"
                               autocomplete="off"  class="text  country-autocomplete long"  >
                    </div>
                {{/otherCountriesTail}}

                {{#moreThanOneOtherCountry}}
                    <a class="duplicate-control" href="#">{{messages.ordinary_nationality_AddAnotherCountry}}</a>
                {{/moreThanOneOtherCountry}}

            </div>
        </div>
    </fieldset>
    <button type="submit" id="alt-continue"
            class="button next validation-submit"
            data-validation-sources="nationality">{{messages.step_continue}}</button>
    <div class="help-content help-content{{noNationalityReasonShowFlag.value}}"
         data-toggle-text="{{messages.ordinary_nationality_help_heading_1}}">
        <h2>{{messages.ordinary_nationality_help_heading_1}}</h2>
        <p>{{messages.ordinary_nationality_help_content_1}}</p>
        <p>{{messages.ordinary_nationality_help_content_2}}</p>
        <div class="optional-section optional-section{{noNationalityReasonShowFlag.value}}"
             data-toggle-text="{{messages.ordinary_nationality_help_heading_2}}"
             id="nationality-provision">
            <h3>{{messages.ordinary_nationality_help_heading_2}}</h3>
            <label for="{{noNationalityReason.id}}" class=""  >
                {{messages.ordinary_nationality_help_content_3}}
            </label>
            <textarea name="{{noNationalityReason.name}}"
                      id="{{noNationalityReason.id}}"
                      class=" small validate"
                      data-validation-name="nationalityExcuse"
                      data-validation-type="field"
                      data-validation-rules="nonEmpty"
                      maxlength="500"
                      autocomplete="off" >{{noNationalityReason.value}}</textarea>
        </div>
    </div>
    <button type="submit" id="continue"
            class="button next validation-submit"
            data-validation-sources="nationality">{{messages.step_continue}}</button>
</form>
