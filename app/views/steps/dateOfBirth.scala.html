@(implicit formData: uk.gov.gds.ier.validation.InProgressForm, postUrl: Call)

@import helper.form
@import layouts._
@import uk.gov.gds.ier.validation.DateOfBirthConstants
@import uk.gov.gds.ier.form.FormHelpers._

@main(title = Some("Register to Vote - What is your Date Of Birth?"), stylesheets = head(), scripts = stepsBodyEnd()) {
  @form(postUrl) {
    @questionHeader("What is your date of birth?", "/register-to-vote/nationality", 3)

    <fieldset>
      @select(keys.dob.dob.day,
          label = "Day",
          options = DateOfBirthConstants.days,
          inputAttributes = Map('_default -> "Day", 'class -> "day"),
          labelAttributes = Map('class -> "visuallyhidden"))
      @select(keys.dob.dob.month,
          label = "Month",
          options = DateOfBirthConstants.months,
          inputAttributes = Map('_default -> "Month", 'class -> "month"),
          labelAttributes = Map('class -> "visuallyhidden"))
      @label(keys.dob.dob.year,
          label = "Year",
          attributes = Map('class -> "visuallyhidden"))
      @text(keys.dob.dob.year,
          attributes = Map('class -> "year text small", 'placeholder -> "Year"))
    </fieldset>
    <div class="help-content">
      <h3>Help</h3>
      <p>If you don’t know your exact date of birth, use the one you put on official documents (for example, your passport or driving licence.</p>
      <p>If you can’t provide your date of birth you’ll have to send copies of identity documents through the post.</p>
      <fieldset class="optional-section">
        <h3>I can't provide my date of birth</h3>
        @label(keys.dob.noDob.reason, label = "Why can't you provide your date of birth?")
        @textArea(keys.dob.noDob.reason, attributes = Map('class -> "small", 'autocomplete -> "off"))
        <p>How old are you?</p>
        @radio(keys.dob.noDob.range, value = DateOfBirthConstants.under18, label = "Under 18 years old")
        @radio(keys.dob.noDob.range, value = DateOfBirthConstants.is18to70, label = "Between 18 and 70 years old")
        @radio(keys.dob.noDob.range, value = DateOfBirthConstants.over70, label = "Over 70 years old")
        @radio(keys.dob.noDob.range, value = DateOfBirthConstants.dontKnow, label = "I don't know")
      </fieldset>
    </div>
    <div class="validation-message"></div>
    @validationMessages(formData)
    <button type="submit" id="continue" class="button next">Continue</button>
  }
}
