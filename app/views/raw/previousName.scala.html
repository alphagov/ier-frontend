@(formData: uk.gov.gds.ier.validation.InProgressForm)

@import uk.gov.gds.ier.form.FormHelpers._

@layouts.questionHeader("Have you changed your name in the last 12 months?", "/register-to-vote/name", 3)

        <fieldset>
          <label class="selectable binary @classIf(formData(keys.previousName.hasPreviousName).value == Some("true"), "selected")">
              <input type="radio" id="input-name-change-yes" name="@keys.previousName.hasPreviousName" value="true" class="radio" @checkedIf(formData(keys.previousName.hasPreviousName).value == Some("true"))><span>Yes</span>
          </label>
          <label class="selectable binary @classIf(formData(keys.previousName.hasPreviousName).value == Some("false"), "selected")">
              <input type="radio" id="input-name-change-no" name="@keys.previousName.hasPreviousName" value="false" class="radio" @checkedIf(formData(keys.previousName.hasPreviousName).value == Some("false"))><span>No</span>
          </label>
          <div class="optional-section @classIf(application.previousName == Some("true"), "visible")" data-condition="input-name-change-yes">
            <h3>Previous name</h3>
            <label class="above" for="input-previous-first-name">First name</label>
            @validationWrap(formData(keys.previousName)) {
                @helper.inputText(formData(keys.previousName.previousName.firstName), 'class -> "text first-name long")
            }
            <label class="above" for="input-previous-names">Middle names</label>
            @helper.inputText(formData(keys.previousName.previousName.middleNames), 'class -> "text middle-names long")
            <label class="above" for="input-previous-last-name">Last name</label>
            @validationWrap(formData(keys.previousName)) {
                @helper.inputText(formData(keys.previousName.previousName.lastName), 'class -> "text last-name long")
            }
          </div>
          @validationMessage(formData(keys.previousName))
          @validationMessage(formData(keys.previousName.previousName.firstName))
          @validationMessage(formData(keys.previousName.previousName.middleNames))
          @validationMessage(formData(keys.previousName.previousName.lastName))
          <input data-next="step-name" type="submit" class="button next" value="Continue" />
        </fieldset>
