@(implicit formData:uk.gov.gds.ier.validation.InProgressForm, possibleAddresses: Seq[(String, String)] = Seq.empty[(String,String)])

@import uk.gov.gds.ier.form.FormHelpers._

@layouts.questionHeader("Have you moved within the last 12 months?", "/register-to-vote/address", 7)

        <fieldset>
          @radio(keys.previousAddress.movedRecently, label = "Yes", value = "true", inputAttributes = Map('class -> "binary"), labelAttributes = Map('class -> "binary"))
          @radio(keys.previousAddress.movedRecently, label = "No", value = "false", inputAttributes = Map('class -> "binary"), labelAttributes = Map('class -> "binary"))
        </fieldset>
        <fieldset class="optional-section optional-section-binary @classIf(formData(keys.previousAddress.movedRecently).value == Some("true"), "visible")" data-condition="@keys.previousAddress.movedRecently.asId("true")">
          @text(keys.previousAddress.previousAddress.postcode, label = "Enter the postcode to find your previous address", inputAttributes = Map('class -> "postcode medium"))
          <button id="find-previous-address" class="button search">Find address</button>
        </fieldset>
        <div id="found-addresses"></div>
        @validationMessage(formData(keys.previousAddress))
        @validationMessage(formData(keys.previousAddress.previousAddress.address))
        @validationMessage(formData(keys.previousAddress.previousAddress.postcode))
        <button type="submit" id="continue" class="button next">Continue</button>
